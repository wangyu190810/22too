# 面试简历上吹的牛逼要一一实现

### I/O复用：select和poll

I/O复用典型使用在下列应用场景
* 当客户处理多个描述符(通常是交互式输入和网络套接字)，必须使用I/O复用。这是
* 一个客户同事处理多个套接字是可能的，不过比较少。web场景
* 如果一个TCP服务器既要处理套监听套接字，又要处理已经连接的套接字，一般就要使用I/O复用
* 一个服务器既要处理TCP，又要处理UDP，一般要使用I/O复用。
* 如果一个服务器要处理多个服务或者多个协议，一般就要使用I/O复用

ps： I/O复用，并非仅限余网络编程

正在学习，学习结束再说。


### tornado 异步实现机制

这个问题，要问清楚，到底是异步代码怎么写，还是tornado底层如何实现了异步

异步代码怎么写？

参看官方例子
[官方实现](http://www.tornadoweb.org/en/stable/gen.html)

因为这里都是认为是异步网络请求，所以使用了AsyncHTTPClient，如果是其他的可能需要使用异步的对应的第三方库，
比如mysql的异步库

使用callback回调

    class AsyncHandler(RequestHandler):
    # tornado get 请求
    @asynchronous
    def get(self):
        http_client = AsyncHTTPClient()
        http_client.fetch("http://example.com",
                          callback=self.on_fetch)
    # callback执行函数
    def on_fetch(self, response):
        do_something_with_response(response)
        self.render("template.html")

使用gen装饰器实现

使用yield操作，进行携程的操作

    class GenAsyncHandler(RequestHandler):
    @gen.coroutine
    def get(self):
        http_client = AsyncHTTPClient()
        response = yield http_client.fetch("http://example.com")
        do_something_with_response(response)
        self.render("template.html")

[使用future](https://kite.com/docs/python;tornado.concurrent.Future)


    from tornado.concurrent import Future
    from tornado.httpclient import AsyncHTTPClient
    from tornado.ioloop import IOLoop

    def async_fetch_future():
        http_client = AsyncHTTPClient()
        future = Future()
        fetch_future = http_client.fetch(
            "http://mock.kite.com/text")
        fetch_future.add_done_callback(
            lambda f: future.set_result(f.result()))
        return future

    response = IOLoop.current().run_sync(
        async_fetch_future)
    print(response.body)
    

上述三种实现具体代表了三种实现方式

同样可以参考[博客](http://www.jianshu.com/p/31fae7dd05ba)

### 数据库索引设计

### 服务器最大连接数因素或者说限制服务器最大连接数的因素

最大连接数量，理论上来说服务器需要记录客户端的数据，也就是连接上来的client的ip和端口号，
默认为所有的ip都可以连接到当前server，也就是 全部的ip数量：2的32次方个ip地址，
每个client都会有自己的本地临时绑定端口号，同一个ip地址可以创建的client至多为服务器端口号最大值：65535

那也就是一个server地址可以有 2**32 * 65535

去掉部分端口号不可用，因为0~65535中0~1024是给操作系统使用，所以65535-1024，然后假设机器上还装有一些软件，他们也会使用一
些端口，比如mysql 3306，然后可用的就会更少。

每个client连接之后，都会需要进程或者线程去处理，也就是需要占用内存，也就是内存是连接上线的一个瓶颈


### 设计短域名

### 二叉树操作


